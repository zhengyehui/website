# TypeScript ç±»å‹é”™è¯¯ä¿®å¤è¯´æ˜

## ğŸ” é—®é¢˜

ç¼–è¯‘é”™è¯¯ï¼š`Type 'Entry<...>' is not assignable to type 'Post[]'`

è¿™æ˜¯å› ä¸º Contentful è¿”å›çš„ `Entry` ç±»å‹ä¸ç»„ä»¶æœŸæœ›çš„ `Post` ç±»å‹ä¸åŒ¹é…ã€‚

## âœ… å·²ä¿®å¤

### 1. åˆ›å»ºäº†ç±»å‹å®šä¹‰æ–‡ä»¶

åˆ›å»ºäº† `types/contentful.ts`ï¼ŒåŒ…å«ï¼š
- `Post` æ¥å£å®šä¹‰
- `convertToPost` ç±»å‹è½¬æ¢å‡½æ•°

### 2. æ›´æ–°äº† contentful.ts

- `getPosts()` ç°åœ¨è¿”å› `Promise<Post[]>`
- è‡ªåŠ¨è½¬æ¢ Contentful Entry ä¸º Post ç±»å‹
- ä¿®å¤äº† `order` å‚æ•°çš„ç±»å‹ï¼ˆæ”¹ä¸ºæ•°ç»„ï¼‰

### 3. æ›´æ–°äº†ç›¸å…³é¡µé¢

- `app/page.tsx` - ç§»é™¤äº† `.catch(() => [])`ï¼Œå› ä¸º `getPosts` å·²ç»å¤„ç†é”™è¯¯
- `app/news/page.tsx` - ä½¿ç”¨æ­£ç¡®çš„ `Post` ç±»å‹
- `app/news/[slug]/page.tsx` - ä¿®å¤äº†ç±»å‹

## ğŸš€ ç°åœ¨å¯ä»¥æ­£å¸¸æ„å»º

è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯ï¼š

```bash
npm run build
```

åº”è¯¥å¯ä»¥æˆåŠŸç¼–è¯‘äº†ï¼

## ğŸ“ ç±»å‹ç³»ç»Ÿè¯´æ˜

### Post ç±»å‹å®šä¹‰

```typescript
interface Post {
  fields: {
    title: string;
    slug: string;
    excerpt?: string;
    publishedAt?: string;
  };
}
```

### ç±»å‹è½¬æ¢

`convertToPost()` å‡½æ•°å°† Contentful çš„ `Entry` ç±»å‹è½¬æ¢ä¸ºæˆ‘ä»¬çš„ `Post` ç±»å‹ï¼Œç¡®ä¿ç±»å‹å®‰å…¨ã€‚

## âœ… éªŒè¯

æ‰€æœ‰ç±»å‹é”™è¯¯å·²ä¿®å¤ï¼Œé¡¹ç›®ç°åœ¨åº”è¯¥å¯ä»¥ï¼š
- âœ… æˆåŠŸç¼–è¯‘
- âœ… åœ¨ Vercel ä¸Šéƒ¨ç½²
- âœ… ç±»å‹å®‰å…¨

